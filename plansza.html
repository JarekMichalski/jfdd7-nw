<style>
	.game-table td {
		height: 50px;
		width: 50px;
		border: 1px solid black;
		margin: 0;
	}

	table {
		border-collapse: collapse;
	}

	.clicked {
		background-color: blue;
	}

	.a {
		background-color: red;
	}

	.b {
		background-color: green;
	}

	.c {
		background-color: black;
	}

</style>

<table id="game-board" class="game-table" cellspacing="0"></table>

<script>
    var table = document.querySelector('#game-board');

//    PO KLIKNIĘCIU WYKONAJ AKCJĘ:

//    table.addEventListener('click', function (event) {
//        console.log('td clicked', event.target);
//        event.target.classList.add('clicked');
//    });

    function createTape(speed) {
        var tr = document.createElement('tr');
        var td;

        for (var i = 0; i < 20; i += 1) {
            td = document.createElement('td');
            tr.appendChild(td);
        }

        table.appendChild(tr);


        var productTypes = ['a', 'b', 'c'];
        var products = [];
        for (var i = 0; i < 10; i += 1) {
            products.push(productTypes[Math.floor(Math.random() * 3)])
        }

        var currentTick = 0;

        function tick() {
            currentTick += 1;
            var lastCell = tr.querySelector('td:last-child');

            tr.prepend(lastCell);

            if (products.length > 0 && Math.random() > 0.5) {
                var product = products.shift();
                var start = tr.querySelector('td');
                start.classList.add(product);
//            console.log(products);
            }
	        speed = Math.max(200, currentTick % 5 === 0 ? speed * 0.99 : speed);
            setTimeout(tick, speed)
        }

        setTimeout(tick, speed);
    }

    createTape(200);
    createTape(500);
    createTape(10);
    createTape(40);
    createTape(60);
</script>