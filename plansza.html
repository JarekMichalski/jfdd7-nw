<style>
	.game-table td {
		height: 50px;
		width: 50px;
		border: 1px solid black;
		margin: 0;
	}

	table {
		border-collapse: collapse;
	}

	.clicked {
		background-color: blue ;
	}

	.a {
		background-color: red;
	}

	.b {
		background-color: green;
	}

	.c {
		background-color: black;
	}

	.szaszlyk {
		width: 50%;
		height: 800px;
		border: 1px solid black;
		padding: 10px;
		display: block;
		margin-left: auto;
		margin-right: auto;

	}

	#game-board > div {
		display: flex;
		align-content: stretch;
		margin-top: 10px;
	}
	#game-board > div > div {
		height: 40px;
		border: 1px solid #000;
		flex-grow: 1;

	}

	#aim > div {
		display: flex;
		align-content: stretch;
		border: solid 1px black;
	}

	#aim{
		width: 100%;
		height: 100px;
		border: solid 1px black;
	}
	#aim > div > div {
		height: 40px;
		border: 1px solid #000;
		flex-grow: 1;
	}
</style>
<div class="szaszlyk">
	<div id="aim"></div>
	<div id="game-board" class="game-table"></div>
</div>
<script>
    var table = document.querySelector('#game-board');
	var aims = document.querySelector('#aim');
    var productTypes = ['a', 'b', 'c'];

//    PO KLIKNIĘCIU WYKONAJ AKCJĘ:



    function createList() {
        var listToGet = document.createElement('div');
        var productToGet;

        for (var i = 0; i < 8; i += 1) {
            productToGet = document.createElement('div');
            productToGet.classList.add(productTypes[Math.floor(Math.random() * 3)]);
            listToGet.appendChild(productToGet);
        }
        aims.appendChild(listToGet);


    }





    function createTape(initialSpeed) {
        var speed = initialSpeed;
        var tr = document.createElement('div');
        var td;
        var products = [];
        for (var i = 0; i < 15; i += 1) {
            td = document.createElement('div');
            tr.appendChild(td);
        }

        table.appendChild(tr);



        for (var i = 0; i < 10; i += 1) {
            products.push(productTypes[Math.floor(Math.random() * 3)])
        }

        var currentTick = 0;

        function tick() {
            currentTick += 1;
            var lastCell = tr.querySelector('div:last-child');

            tr.prepend(lastCell);

            if (products.length > 0 && Math.random() > 0.5) {
                var product = products.shift();
                var start = tr.querySelector('div');
                start.classList.add(product);
            }
            speed = Math.max(100, currentTick % 5 === 0 ? speed * 0.99 : speed);

            setTimeout(tick, speed)
        }

        setTimeout(tick, speed);
        tr.addEventListener('click', function (event) {

            if (event.target.className === '') {
                return;
            }
            event.target.className = '';
            products.push(productTypes[Math.floor(Math.random() * 3)]);
        });
    }

	createList();
    createTape(1000);
    createTape(1200);
    createTape(758);



</script>